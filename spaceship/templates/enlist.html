{% extends "base.html" %}

{% block title %}Join - {{ super() }}{% endblock %}

{% block content %}
{% include 'banner.html' %}

<h3><span class="font-weight-bold">{{ invitation.inviter.name }}</span> invited you to join
    <span class="font-weight-bold">{{ invitation.team.name }}</span>!</h3>
<p>Joining a team lets you X, Y, Z. You can join as many teams as you like.

<blockquote class="blockquote">{{ invitation.message|e }}</blockquote>

<form method="POST" class="needs-validation" novalidate>
  {% for field in enlist %}
  {% set errors = enlist.errors[field.name] %}
  {% if field.flags.hidden %}
    {{ field(class="form-control") }}
  {% elif field.type == "SubmitField" %}
    {{ field(class="btn btn-primary") }}
  {% else %}
    {% if errors %}
    {% set class="form-control is-invalid" %}
    {% else %}
    {% set class="form-control" %}
    {% endif %}

    <div class="row">
      <span class="col-3">{{ field.label() }}</span>
    </div>
    <div class="row form-box">
      <span class="col-6">
      {{ field(class=class) }}
      <div class="invalid-feedback">
        {{ ';'.join(errors) }}
      </div>
      </span>
    </div>
  {% endif %}
  {% endfor %}
</form>
{% endblock %}
